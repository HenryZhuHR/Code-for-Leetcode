<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.66">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>🧮 算法 | Interview Preparation</title><meta name="description" content="Interview Preparation">
    <link rel="preload" href="/Interview-Preparation/assets/style-d5620e3d.css" as="style"><link rel="stylesheet" href="/Interview-Preparation/assets/style-d5620e3d.css">
    <link rel="modulepreload" href="/Interview-Preparation/assets/app-c7f52b2b.js"><link rel="modulepreload" href="/Interview-Preparation/assets/algorithm.html-0fe9faad.js"><link rel="modulepreload" href="/Interview-Preparation/assets/algorithm.html-ee776770.js"><link rel="prefetch" href="/Interview-Preparation/assets/index.html-f3eecfd0.js" as="script"><link rel="prefetch" href="/Interview-Preparation/assets/cppBasics.html-4458a0aa.js" as="script"><link rel="prefetch" href="/Interview-Preparation/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/Interview-Preparation/assets/index.html-10467fdf.js" as="script"><link rel="prefetch" href="/Interview-Preparation/assets/cppBasics.html-921a59da.js" as="script"><link rel="prefetch" href="/Interview-Preparation/assets/404.html-3eeeddec.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/Interview-Preparation/" class=""><!----><span class="site-name">Interview Preparation</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="🧮 算法"><span class="title">🧮 算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="🧮 算法"><span class="title">🧮 算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Interview-Preparation/algorithm.md/#-回溯算法" class="" aria-label="🏊 回溯算法"><!--[--><!--]--> 🏊 回溯算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview-Preparation/algorithm.md/#-贪心算法" class="" aria-label="🍪 贪心算法"><!--[--><!--]--> 🍪 贪心算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview-Preparation/algorithm.md/#-动态规划" class="" aria-label="🎒 动态规划"><!--[--><!--]--> 🎒 动态规划 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="💻 语法基础"><span class="title">💻 语法基础</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="💻 语法基础"><span class="title">💻 语法基础</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Interview-Preparation/cppBasics.md/#-c-基础" class="" aria-label="🧱 C++ 基础"><!--[--><!--]--> 🧱 C++ 基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview-Preparation/cppBasics.md/#-c-面向对象" class="" aria-label="🧬 C++ 面向对象"><!--[--><!--]--> 🧬 C++ 面向对象 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview-Preparation/cppBasics.md/#-c-内存管理" class="" aria-label="🚚 C++ 内存管理"><!--[--><!--]--> 🚚 C++ 内存管理 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/HenryZhuHR/Interview-Preparation" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="🧮 算法"><span class="title">🧮 算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="🧮 算法"><span class="title">🧮 算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Interview-Preparation/algorithm.md/#-回溯算法" class="" aria-label="🏊 回溯算法"><!--[--><!--]--> 🏊 回溯算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview-Preparation/algorithm.md/#-贪心算法" class="" aria-label="🍪 贪心算法"><!--[--><!--]--> 🍪 贪心算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview-Preparation/algorithm.md/#-动态规划" class="" aria-label="🎒 动态规划"><!--[--><!--]--> 🎒 动态规划 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="💻 语法基础"><span class="title">💻 语法基础</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="💻 语法基础"><span class="title">💻 语法基础</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Interview-Preparation/cppBasics.md/#-c-基础" class="" aria-label="🧱 C++ 基础"><!--[--><!--]--> 🧱 C++ 基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview-Preparation/cppBasics.md/#-c-面向对象" class="" aria-label="🧬 C++ 面向对象"><!--[--><!--]--> 🧬 C++ 面向对象 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview-Preparation/cppBasics.md/#-c-内存管理" class="" aria-label="🚚 C++ 内存管理"><!--[--><!--]--> 🚚 C++ 内存管理 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/HenryZhuHR/Interview-Preparation" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">🧮 算法 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Interview-Preparation/algorithm.html#🏊-回溯算法" class="router-link-active router-link-exact-active sidebar-item" aria-label="🏊 回溯算法"><!--[--><!--]--> 🏊 回溯算法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Interview-Preparation/algorithm.html#🍪-贪心算法" class="router-link-active router-link-exact-active sidebar-item" aria-label="🍪 贪心算法"><!--[--><!--]--> 🍪 贪心算法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Interview-Preparation/algorithm.html#🎒-动态规划" class="router-link-active router-link-exact-active sidebar-item" aria-label="🎒 动态规划"><!--[--><!--]--> 🎒 动态规划 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Interview-Preparation/algorithm.html#状态转移公式" class="router-link-active router-link-exact-active sidebar-item" aria-label="状态转移公式"><!--[--><!--]--> 状态转移公式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Interview-Preparation/algorithm.html#动态规划-背包问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="动态规划：背包问题"><!--[--><!--]--> 动态规划：背包问题 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Interview-Preparation/algorithm.html#_01-背包" class="router-link-active router-link-exact-active sidebar-item" aria-label="01 背包"><!--[--><!--]--> 01 背包 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="🧮-算法" tabindex="-1"><a class="header-anchor" href="#🧮-算法" aria-hidden="true">#</a> 🧮 算法</h1><ul><li><a href="#-%E7%AE%97%E6%B3%95">🧮 算法</a><ul><li><a href="#-%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95">🏊 回溯算法</a></li><li><a href="#-%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95">🍪 贪心算法</a></li><li><a href="#-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92">🎒 动态规划</a><ul><li><a href="#%E7%8A%B6%E6%80%81%E8%BD%AC%E7%A7%BB%E5%85%AC%E5%BC%8F">状态转移公式</a></li><li><a href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98">动态规划：背包问题</a></li><li><a href="#01-%E8%83%8C%E5%8C%85">01 背包</a></li></ul></li></ul></li></ul><h2 id="🏊-回溯算法" tabindex="-1"><a class="header-anchor" href="#🏊-回溯算法" aria-hidden="true">#</a> 🏊 回溯算法</h2><p>回溯法也可以叫做回溯搜索法，它是一种搜索的方式。<sup><a href="https://programmercarl.com/%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html#%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80" target="_blank" rel="noopener noreferrer">[代码随想录]<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></sup></p><ul><li>回溯是<strong>递归</strong>的副产品，只要有递归就会有回溯。</li><li>回溯法并<strong>不是什么高效的算法</strong>。回溯的<strong>本质是穷举</strong>，类似暴力搜索(brute force, BF)，想让回溯法高效一些，可以加一些剪枝的操作。</li><li>回溯法，一般可以解决如下几种问题： <ul><li><strong>组合问题</strong>：N个数里面按一定规则找出k个数的集合。 <strong>(组合无序)</strong></li><li><strong>切割问题</strong>：一个字符串按一定规则有几种切割方式</li><li><strong>子集问题</strong>：一个N个数的集合里有多少符合条件的子集</li><li><strong>排列问题</strong>：N个数按一定规则全排列，有几种排列方式 <strong>(排列有序)</strong></li><li><strong>棋盘问题</strong>：N皇后，解数独等等</li></ul></li><li><strong>回溯法解决的问题都可以抽象为树形结构 (深度优先遍历 DSF)</strong>。因为回溯法解决的都是在集合中递归查找子集，集合的大小就构成了树的宽度，递归的深度，都构成的树的深度。递归就要有终止条件，所以必然是一棵高度有限的树（N叉树）。</li></ul><p><img src="/Interview-Preparation/assets/algorithm-backtracking-search_process-bfbc447e.png" alt="回溯搜索过程"></p><p>回溯算法模板框架</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">backtracking</span><span class="token punctuation">(</span>参数<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>剪枝条件<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>终止条件<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        存放结果<span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>选择：本层集合中元素（树中节点孩子的数量就是集合的大小）<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        处理节点<span class="token punctuation">;</span>
        <span class="token function">backtracking</span><span class="token punctuation">(</span>路径，选择列表<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 递归</span>
        回溯，撤销处理结果
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="🍪-贪心算法" tabindex="-1"><a class="header-anchor" href="#🍪-贪心算法" aria-hidden="true">#</a> 🍪 贪心算法</h2><p>贪心的本质是<strong>选择每一阶段的局部最优，从而达到全局最优</strong>。步骤：</p><ul><li>将问题分解为若干个子问题</li><li>找出适合的贪心策略</li><li>求解每一个子问题的最优解</li><li>将局部最优解堆叠成全局最优解</li></ul><h2 id="🎒-动态规划" tabindex="-1"><a class="header-anchor" href="#🎒-动态规划" aria-hidden="true">#</a> 🎒 动态规划</h2><p><strong>动态规划 (Dynamic Programming, DP)</strong> ，如果某一问题<strong>有很多重叠子问题</strong>，使用动态规划是最有效的。</p><p>所以动态规划中<strong>每一个状态一定是由上一个状态推导出来的</strong>，这一点就区分于贪心，贪心没有状态推导，而是从局部直接选最优的，</p><ul><li>动规 是<strong>由前一个状态推导出来的</strong></li><li>贪心 是<strong>局部直接选最优的</strong></li></ul><h3 id="状态转移公式" tabindex="-1"><a class="header-anchor" href="#状态转移公式" aria-hidden="true">#</a> 状态转移公式</h3><h3 id="动态规划-背包问题" tabindex="-1"><a class="header-anchor" href="#动态规划-背包问题" aria-hidden="true">#</a> 动态规划：背包问题</h3><p><img src="/Interview-Preparation/assets/algorithm-dp-backpack-514afb8d.png" alt="dp-backpack"></p><p>至于背包九讲其其他背包，面试几乎不会问，都是竞赛级别的了，leetcode上连多重背包的题目都没有，所以题库也告诉我们，01背包和完全背包就够用了。</p><p>而完全背包又是也是01背包稍作变化而来，即：完全背包的物品数量是无限的。</p><p>所以背包问题的理论基础重中之重是01背包，一定要理解透！</p><h3 id="_01-背包" tabindex="-1"><a class="header-anchor" href="#_01-背包" aria-hidden="true">#</a> 01 背包</h3><p>有 <code>n</code> 件物品和一个最多能背重量为 <code>w</code> 的背包。第 <code>i</code> 件物品的重量是 <code>weight[i]</code> ，价值是 <code>value[i]</code> 。每件物品只能用一次，求解将哪些物品装入背包里物品<strong>价值总和最大</strong>。</p><p><img src="https://code-thinking-1253855093.file.myqcloud.com/pics/202101101032124.png" alt="Alt text"></p><ol><li><strong>二维数组</strong>。 <code>dp[i][j]</code> 表示从下标为 <code>[0-i]</code> 的物品里任意取，放进容量为 <code>j</code> 的背包 (一直递推到 <code>w</code> )，价值总和最大是多少。</li></ol><ul><li>那么可以有两个方向推出来 <code>dp[i][j]</code> ，</li><li><strong>不放物品 <code>i</code></strong>：由 <code>dp[i-1][j]</code> 推出，即背包容量为 <code>j</code> ，里面不放物品 <code>i</code> 的最大价值，此时 <code>dp[i][j]</code> 就是 <code>dp[i-1][j]</code> 。(<strong>其实就是当物品 <code>i</code> 的重量大于背包 <code>j</code> 的重量时，物品 <code>i</code> 无法放进背包中，所以背包内的价值依然和前面相同。</strong>)</li><li><strong>放物品 <code>i</code></strong>：由 <code>dp[i-][j-weight[i]]</code> 推出，<code>dp[i-1][j-weight[i]]</code> 为背包容量为 <code>j-weight[i]</code> 的时候不放物品 <code>i</code> 的最大价值，那么 <code>dp[i-][j-weight[i]]+value[i]</code> （物品 <code>i</code> 的价值），就是背包放物品 <code>i</code> 得到的最大价值</li><li>所以递归公式：</li></ul><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span>weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">+</span>value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>可以看出 <code>i</code> 是由 <code>i-1</code> 推导出来，那么 <code>i=0</code> 的时候就一定要初始化。</li><li>因为用到 <code>i-1</code> ，所以必须倒叙遍历 i</li></ul><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> weight<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 遍历物品</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> bagweight<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 遍历背包容量</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment">// 如果背包容量小于物品重量，</span>
    dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// 那么物品i无法放进背包中，直接复制上一层</span>
  <span class="token keyword">else</span>                      <span class="token comment">// 否则，就要考虑放入物品i的情况</span>
    dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>
      dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>                     <span class="token comment">// 不放</span>
      dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span>weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token comment">// 放入</span>
      <span class="token comment">// 放进去的话，考虑上一层背包容量减去物品i的重量，加上物品i的价值</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><strong>滚动数组</strong>。</li></ol><p>上面的递推公式可以优化： 其实可以发现如果把 <code>dp[i-1]</code> 那一层拷贝到 <code>dp[i]</code> 上，表达式完全可以是：</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>dp 数组在推导的时候一定是取价值最大的数，如果题目给的价值都是正整数那么非0下标都初始化为0就可以了。</li><li>遍历的时候一定需要<strong>倒序</strong>，因为二维数组用到 <code>i-1</code> ，所以必须倒叙遍历背包，不然 <code>i-1</code> 会被覆盖</li></ul><blockquote><p>倒序遍历是为了保证物品i只被放入一次！。但如果一旦正序遍历了，那么物品0就会被重复加入多次！</p><p>可以参考 <a href="https://zhuanlan.zhihu.com/p/540378850" target="_blank" rel="noopener noreferrer">“背包问题（01背包+滚动数组+完全背包）”<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，考虑 <code>j</code> 和 <code>2j</code> 的递推: <code>dp[ j] = max(dp[ j], dp[ j-weight[i]]+value[i]);</code>：</p></blockquote><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code>dp<span class="token punctuation">[</span> j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span> j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span> j <span class="token operator">-</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dp<span class="token punctuation">[</span><span class="token number">2</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span><span class="token number">2</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span><span class="token number">2</span>j <span class="token operator">-</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 当 j = weight[i] 这个特殊情况</span>
dp<span class="token punctuation">[</span> j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span> j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dp<span class="token punctuation">[</span><span class="token number">2</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span><span class="token number">2</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 可以看到， weight[i] 被重复放进了两次</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">dp</span><span class="token punctuation">(</span>bagWeight <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> weight<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// 遍历物品</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> bagWeight<span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 遍历背包容量(倒序)</span>
    dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>
      dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>                       <span class="token comment">// 不放</span>
      dp<span class="token punctuation">[</span>j <span class="token operator">-</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token comment">// 放入</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 如果求方案和，那么就把不放和放的加起来</span>
    <span class="token comment">// dp[j] = dp[j] + dp[j - weight[i]] (+ value[i]);</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>01 背包中组合数问题</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token comment">/**
 * 当 1≤i≤n时，对于数组 nums 中的第 i，遍历 0≤j≤neg，计算 dp[i][j]：
 * 如果 j&lt;num，则不能选 num，  此时有 dp[i][j]=dp[i-1][j]；
 * 如果 j≥num，
 *  - 不选  num 方案数是 dp[i-1][j]
 *  - 选    num 方案数是 dp[i-1][j-num]，
 * 此时有 dp[i][j] = dp[i-1][j] + dp[i-1][j-num]
 *
 * 装满背包有几种方法的递推公式
 */</span>
dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 表示 已经 有 nums[i] 时，有 dp[j - nums[i]] 种方法凑成 j
 * 例如：dp[j]，j 为5，
 * nums[i] = 1 , 有 dp[5-1] = dp[4] 种方法凑成 5
 * nums[i] = 2 , 有 dp[5-2] = dp[3] 种方法凑成 5
 * ...
 * dp[j] 定义就是凑成和为 j 有多少种方案
 * 初始为 dp[0] = 1 ，因为不取任何数，和就是 0 (唯一方案)
 */</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/HenryZhuHR/Interview-Preparation/edit/main/algorithm.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 296506195@qq.com">HenryZhuHR</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/Interview-Preparation/assets/app-c7f52b2b.js" defer></script>
  </body>
</html>
